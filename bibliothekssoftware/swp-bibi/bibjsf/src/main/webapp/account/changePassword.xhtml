<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<link rel="shortcut icon" href="../resources/favicons/favicon.ico" type="image/x-icon"/>
	<link rel="icon" href="../resources/favicons/favicon.ico" type="image/x-icon"/>
</h:head>

<body onload="#{changeReaderForm.editPassword(authBackingBean.getReaderByID(authBackingBean.getUserID()))};">
	<f:view>
		<ui:include src="/mainmenu.xhtml" />
		
	 
	<h:form>
	<p:panel header="#{messages.changePassword}" style="margin: 0 auto; width:1200px">
		<h:panelGrid columns="2" cellpadding="5">
			<!-- new password 1 -->
			<h:outputLabel for="newpassword1" value="#{messages.newPassword}: * "
				style="font-weight:bold" />
			<p:password maxlength="50" id="newpassword1"
				value="#{changeReaderForm.password}" match="passwordCheck"
				validatorMessage="#{messages.passwordsMustMatch}" required="true"
				title="#{messages.passwordreq}" style="width:600px" 
				requiredMessage="#{messages.password} #{messages.required}"/>

			<!-- new password 2 -->
			<h:outputLabel for="passwordCheck"
				value="#{messages.newPassword} wiederholen: * "
				style="font-weight:bold" />
			<p:password maxlength="50" id="passwordCheck"
				value="#{changeReaderForm.passwordCheck}"
				validatorMessage="#{messages.passwordsMustMatch}"
				title="#{messages.passwordreq2}" style="width:600px" required="true" 
				requiredMessage="Wiederholtes #{messages.password} #{messages.required}"/>

		</h:panelGrid>
		<f:facet name="footer">
		<h:panelGroup>
			<p:growl id="message" showDetail="true" />
			<p:commandButton value="#{messages.save}"
				title="#{messages.save_help}"
				action="#{changeReaderForm.savePassword}" ajax="false"
				icon="ui-icon-check" />
			  <p:commandButton value="#{messages.back}" icon="ui-icon-arrowreturnthick-1-w"
               	onclick="window.location.href = '/bibjsf/account/account.xhtml';" />
		</h:panelGroup>
	</f:facet>



	</p:panel>
	</h:form>
	</f:view>
</body>
</html>
