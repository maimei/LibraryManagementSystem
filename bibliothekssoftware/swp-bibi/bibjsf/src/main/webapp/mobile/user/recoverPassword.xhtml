<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">
	
	<f:view renderKitId="PRIMEFACES_MOBILE">
	<head>
	
	<script type="text/javascript">
		function start(){
			#{changeReaderForm.setEmailForPassword('')};
			#{changeReaderForm.setUserNameForPassword('')};
		}
	</script>
	</head>
	
	<h:body onload="start()">
	<pm:page title="Registrierung">
		<pm:view id="regestration">
			<pm:header title="Registrierung">
			<f:facet name="left">
					<p:button value="ZurÃ¼ck" icon="back" href="../media/mediumDetails.xhtml"></p:button>
				</f:facet>
				
				
					<pm:navBar>
						<p:button value="Startseite" icon="home" href="../indexMain.xhtml"> </p:button>
						<p:button value="Medien" icon="search" href="../media/mediumTemp.xhtml" styleClass="ui-btn-active"> </p:button>
						<p:button value="Mein Profil" icon="info" href="../user/profileTemp.xhtml" rendered="#{authBackingBean.isRole('USER')}"> </p:button>
				
					</pm:navBar>
			
			</pm:header>
				<pm:content>
					  <h:form> 
      	<h:outputText value="#{messages.emailForNewPassword}"/>
      	<br/>
      	<h:outputText value="#{messages.emailForNewPassword2}"/>
      	<br/>
      	<br/>
      
      		<h:outputLabel for="usernamee" value="#{messages.username}"
      			style="font-weight:bold" />
      		<p:inputText id="username" required="true"
      			value="#{changeReaderForm.userNameForPassword}"
      			style="width:500px" maxlength="50"/>
      			
      		<h:outputLabel for="email" value="#{messages.email}: "
      			style="font-weight:bold" />
      		<p:inputText id="email" required="true" 
				value="#{changeReaderForm.emailForPassword}"
				validatorMessage="#{messages.invalidEmail}"  
				style="width:500px" maxlength="50">
				<f:validateRegex pattern="(.+@.+\..+)|" />
			</p:inputText>
      	
      	<br/>
      	<p:commandButton id="sendPassword" value="#{messages.submit}"
      	action="#{changeReaderForm.sendNewPassword()}" 
        icon="ui-icon-mail-closed"/>
        
        <p:commandButton value="#{messages.cancel}" icon="ui-icon-closethick"
		onclick="window.location.href = '../indexMobile.xhtml'" />
	  </h:form>		
  		</pm:content>
		</pm:view>
	</pm:page>
	</h:body>
	</f:view>
	
</html>